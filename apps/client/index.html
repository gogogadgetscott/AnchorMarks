<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="A modern web-based bookmark manager with browser sync, API access, and AI-assisted organization."
    />
    <meta
      name="keywords"
      content="bookmarks, bookmark manager, sync, organize, productivity"
    />
    <title>AnchorMarks - Your Bookmarks, Beautifully Organized</title>
    <link rel="icon" type="image/png" href="/icon.png" />
    <link rel="preload" href="/icon.png" as="image" />
  </head>

  <body>
    <div id="app">
      <!-- Components are loaded dynamically via js/main.js -->
    </div>
    <!-- Inline script to hide login forms immediately to prevent Bitwarden detection -->
    <script>
      // Run immediately to hide forms before Bitwarden scans
      (function () {
        function hideLoginForms() {
          const loginForm = document.getElementById("login-form");
          const registerForm = document.getElementById("register-form");
          if (loginForm) {
            loginForm.setAttribute("data-bitwarden-watching", "false");
            loginForm.setAttribute("data-lpignore", "true");
            loginForm.style.display = "none";
          }
          if (registerForm) {
            registerForm.setAttribute("data-bitwarden-watching", "false");
            registerForm.setAttribute("data-lpignore", "true");
            registerForm.style.display = "none";
          }
        }

        // Try immediately
        hideLoginForms();

        // Also watch for when forms are added to DOM
        const observer = new MutationObserver(function (mutations) {
          const authScreen = document.getElementById("auth-screen");
          if (authScreen && authScreen.classList.contains("hidden")) {
            hideLoginForms();
          }
        });

        // Start observing when DOM is ready
        if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", function () {
            observer.observe(document.body, { childList: true, subtree: true });
            hideLoginForms();
          });
        } else {
          observer.observe(document.body, { childList: true, subtree: true });
          hideLoginForms();
        }
      })();
    </script>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
